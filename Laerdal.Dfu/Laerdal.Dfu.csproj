<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <Laerdal_Package_Name>Laerdal.Dfu</Laerdal_Package_Name>
        <Laerdal_Package_Tags>Ble;Tools;Xamarin;Dfu;Bluetooth;Nordic;Semiconductor</Laerdal_Package_Tags>
        <Laerdal_Package_Copyright>Laerdal Medical, Francois Raminosona</Laerdal_Package_Copyright>
        <Laerdal_Package_Description>Xamarin wrapper around Nordic.Dfu for iOS and Android.</Laerdal_Package_Description>
    </PropertyGroup>
    
    <PropertyGroup>
        <TargetFrameworks>net7.0-android;net7.0-ios;net6.0-android;net6.0-ios</TargetFrameworks>

        <UseMaui>true</UseMaui>
        <SingleProject>true</SingleProject>
        <ImplicitUsings>enable</ImplicitUsings>

        <SupportedOSPlatformVersion Condition=" $([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'ios'     ">14.2</SupportedOSPlatformVersion>
        <SupportedOSPlatformVersion Condition=" $([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'android' ">21.0</SupportedOSPlatformVersion>
    </PropertyGroup>

    <Import Project="Laerdal.targets"/>

    <ItemGroup>
        <Compile Remove="Platforms\NetStandard\*.cs"/>
    </ItemGroup>

    <ItemGroup Condition="$(TargetFramework.Contains('ios'))">
        <PackageReference Include="Laerdal.Dfu.Bindings.iOS" Version="4.13.0.43857"/>
    </ItemGroup>

    <ItemGroup Condition="$(TargetFramework.Contains('android'))">
        <PackageReference Include="Laerdal.Dfu.Bindings.Android" Version="2.3.0.43670"/>
    </ItemGroup>

</Project>
